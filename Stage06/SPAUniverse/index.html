<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SPA Universe</title>
  <link rel="stylesheet" href="./style.css">
  
</head>
<body>
  <nav>
    <a href="/" onclick="route()">Home</a>
    <a href="/universe" onclick="route()">O Universo</a>
    <a href="/explore" onclick="route()">Exploração</a>
    <a href="/404" onclick="route()">404</a>

  </nav>

  <div id="app"></div>

  <script>

    const routes = {
       "/": "/pages/home.html",
       "/universe": "/pages/universe.html",
       "/explore": "/pages/explore.html",
        404: "/pages/404.html",
    }



    function route(event){
      event = event || window.event;
      event.preventDefault();
      window.history.pushState({}, "", event.target.href);
      alert(window.location.pathname);
      handle();
      
    }

    function handle(){
      const { pathname } = window.location;
      const route = routes[pathname] || routes[404];
      
      fetch(route)
      .then(data => data.text())
      .then(html => {
      document.querySelector('#app').innerHTML = html
      })

      console.log(route);

    }

    handle();

    window.onpopstate = () => handle();
    window.route = () => route();
  </script>

</body>
</html>